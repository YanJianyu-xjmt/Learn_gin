# 令牌桶

## 1 x/time/rate

官方包                                                                                                                                                                                

### 2 API

```
type Limiter struct {
	mu     sync.Mutex
	limit  Limit
	burst  int
	tokens float64
	// last is the last time the limiter's tokens field was updated
	last time.Time
	// lastEvent is the latest time of a rate-limited event (past or future)
	lastEvent time.Time
}
```

这个结构体

这里mu 为 limit 是速度限制 



### 2.1 allow

```
// Allow is shorthand for AllowN(time.Now(), 1).
func (lim *Limiter) Allow() bool {
	return lim.AllowN(time.Now(), 1)
}
```

核心api

```

```

这个感觉是tokens是




